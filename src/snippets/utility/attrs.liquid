{%- capture _section_type -%}
  {%- include 'section-context' -%}
{%- endcapture -%}

{%- capture _container_name -%}
  {%- include 'name', context: 'container' -%}
{%- endcapture -%}

{%- capture snippet_attrs -%}
  {%- if attrs != blank -%}
    {{- attrs -}}
  {%- endif -%}
{%- endcapture -%}

{%- capture container_id -%}
  {%- include 'id', prefix: container_name -%}
{%- endcapture -%}

{%- capture container_attrs -%}
  {%- if _container_name != blank -%}
    data-container="{{- container_name | handle -}}"
    data-container-id="{{- container_id -}}"
    data-container-name="{{- _container_name -}}"
  {%- endif -%}
{%- endcapture -%}

{%- capture section_attrs -%}
  {%- if _section_type == 'block' -%}
    data-block-id="{{- block.id -}}"
    data-block-type="{{- block.type -}}"
    id="shopify-block-{{- block.id -}}"
    {{ block.shopify_attributes -}}
  {%- elsif section_type == 'static' or section_type == 'dynamic' -%}
    data-section-id="{{- section.id -}}"
    data-section-type="{{- section_type -}}"
  {%- endif -%}
{%- endcapture -%}

{{- snippet_attrs }} {{ container_attrs }} {{ section_attrs -}}
